environment: dev  # dev, test, prod

trading:
  asset: NIFTY_FUT
  timeframe: 3min
  market_hours:
    start: "09:15"
    end: "15:30"
    timezone: "Asia/Kolkata"
  
data:
  source: upstox  # zerodha, upstox
  fallback_source: yahoo
  storage_type: parquet  # parquet, timescaledb
  storage_path: ./data
  retention_days: 365
  
features:
  momentum:
    - EMA_5
    - EMA_10
    - EMA_Cross
    - EMA_Slope
  trend:
    - VWAP
    - VWAP_Distance
  volatility:
    - ATR_14
    - Normalized_ATR
  mean_reversion:
    - RSI_14
    - Rolling_ZScore_Return
  volume:
    - Volume_Ratio_20
  time_context:
    - Hour_Cyclic
    - Day_Cyclic
  scaler: robust  # robust, standard

target:
  horizon_bars: 3
  buy_threshold: 0.001  # 0.1%
  sell_threshold: -0.001  # -0.1%

model:
  type: xgboost  # xgboost, lightgbm
  train_split: 0.8
  early_stopping_rounds: 50
  max_depth: 6
  learning_rate: 0.05
  n_estimators: 200
  use_class_weights: true
  registry_path: ./models

backtesting:
  transaction_cost_bps: 5  # 0.05%
  slippage_bps: 2  # 0.02%
  latency_ms: 100
  initial_capital: 1000000
  position_sizing: atr_based
  stop_loss_atr_multiplier: 2.0
  target_atr_multiplier: 3.0

risk:
  max_daily_loss: 20000
  max_trades_per_day: 20
  max_position_size: 2  # lots
  volatility_spike_threshold: 3.0  # ATR multiplier
  cooldown_after_losses: 3
  cooldown_minutes: 30

execution:
  broker: upstox  # zerodha, upstox
  order_type: MARKET
  product_type: MIS  # MIS for intraday
  retry_attempts: 3
  retry_delay_seconds: 2
  auto_square_off_time: "15:20"

monitoring:
  log_level: INFO
  log_path: ./logs
  enable_telegram: true
  enable_email: false
  dashboard_port: 8000
  alert_on_error: true
  alert_on_daily_loss_threshold: 0.5  # 50% of max

database:
  type: sqlite  # sqlite, postgresql, timescaledb
  host: localhost
  port: 5432
  name: nifty_trading
  
redis:
  host: localhost
  port: 6379
  db: 0
